# MD Read Log
- [2025-11-12 10:00 UTC] READ: README.md - # ZenCube
- [2025-11-12 10:01 UTC] READ: README_UPDATE_SUMMARY.md - # README Update - October 13, 2025
- [2025-11-12 10:02 UTC] READ: docs/README.md - # ZenCube Team Documentation - README
- [2025-11-12 10:03 UTC] READ: docs/PROJECT_OVERVIEW.md - # ZenCube Project - Complete Technical Overview
- [2025-11-12 10:04 UTC] READ: docs/QA_PREPARATION.md - # ZenCube Q&A Preparation Guide
- [2025-11-12 10:05 UTC] READ: docs/ROLE_1_CORE_SANDBOX.md - # ROLE 1: Core Sandbox Developer (C Programming & System Calls)
- [2025-11-12 10:06 UTC] READ: docs/ROLE_2_GUI_FRONTEND.md - # ROLE 2: GUI Frontend Developer (PySide6 & User Interface)
- [2025-11-12 10:07 UTC] READ: docs/ROLE_3_INTEGRATION.md - # ROLE 3: Integration Engineer (Python-C Bridge & Process Management)
- [2025-11-12 10:08 UTC] READ: docs/ROLE_4_TESTING.md - # ROLE 4: Testing & Quality Assurance Engineer
- [2025-11-12 10:09 UTC] READ: BUGFIX_LAYOUT_ISSUES.md - # ZenCube GUI - Layout Fixes (October 13, 2025)
- [2025-11-12 10:10 UTC] READ: BUGFIX_LINUX_PATHS.md - (empty file)
- [2025-11-12 10:11 UTC] READ: BUGFIX_PATH_CONVERSION.md - # Bug Fix: Windows Path to WSL Path Conversion
- [2025-11-12 10:12 UTC] READ: CROSS_PLATFORM_SUPPORT.md - # Cross-Platform Support - WSL Toggle Feature
- [2025-11-12 10:13 UTC] READ: GUI_IMPLEMENTATION.md - # ZenCube GUI Implementation - Complete
- [2025-11-12 10:14 UTC] READ: GUI_USAGE.md - # ZenCube GUI - User Guide
- [2025-11-12 10:15 UTC] READ: LINUX_TROUBLESHOOTING.md - # Linux Troubleshooting Guide - ZenCube GUI
- [2025-11-12 10:16 UTC] READ: MODERN_GUI_DOCUMENTATION.md - # ZenCube Modern GUI - PySide6 Implementation
- [2025-11-12 10:17 UTC] READ: RESPONSIVE_FEATURES.md - # ZenCube GUI - Responsive Features & Terminal Toggle
- [2025-11-12 10:18 UTC] READ: zencube/README.md - # ZenCube
- [2025-11-12 10:19 UTC] READ: zencube/QUICKSTART.md - # ZenCube - Quick Reference Guide
- [2025-11-12 10:20 UTC] READ: zencube/PHASE2_COMPLETE.md - # ZenCube Phase 2 - Completion Summary
- [2025-11-12 10:21 UTC] READ: zencube/TEST_RESULTS.md - # ZenCube Test Results Summary
- [2025-11-12 10:22 UTC] READ: zencube/TESTING_CHECKLIST.md - # ZenCube Testing Checklist
- [2025-11-12 11:30 UTC] READ: README.md - Project summary covering sandbox features, GUIs, docs, and roadmap.
- [2025-11-12 11:32 UTC] READ: docs/README.md - Index of team documentation outlining roles, preparation guides, and presentation flow.
- [2025-11-12 11:34 UTC] READ: docs/PROJECT_OVERVIEW.md - System-wide architecture overview covering sandbox layers, flows, and roadmap items.
- [2025-11-12 11:36 UTC] READ: docs/ROLE_2_GUI_FRONTEND.md - Detailed breakdown of PySide6 GUI architecture, components, threading, and demo guidance.
- [2025-11-12 11:38 UTC] READ: docs/ROLE_3_INTEGRATION.md - Integration bridge details covering command assembly, threading, WSL handling, and process lifecycle.
- [2025-11-12 11:40 UTC] READ: phase3/FINAL_REPORT.md - Backend jail summary: chroot flag, wrapper, scripts, validation notes.
- [2025-11-12 11:41 UTC] READ: phase3/NOTES.md - Dev-safe jail notes on wrapper behavior, allowlist, and pending follow-ups.
- [2025-11-12 11:42 UTC] READ: phase3/PHASE3_MASTER_CHECKLIST.md - Checklist showing completed File Restriction and remaining hardening items.
- [2025-11-12 11:43 UTC] READ: phase3/SCORES.md - Score table logging File System Restriction task outcome.
- [2025-11-12 11:44 UTC] READ: phase3/TEST_RUNS.md - Test run log capturing dev wrapper validation pass details.
- [2025-11-12 11:45 UTC] READ: .github/copilot-instructions.md - (empty file)
- [2025-11-12 12:00 UTC] READ: docs/GUI_FILE_JAIL.md - Summary of GUI panel UI, API interactions, safety guidance.
- [2025-11-12 12:20 UTC] READ: docs/README.md - Documentation index covering role guides and preparation flow.
- [2025-11-12 12:22 UTC] READ: docs/PROJECT_OVERVIEW.md - End-to-end architecture, component breakdown, and future roadmap.
- [2025-11-12 12:30 UTC] READ: docs/MONITORING_DASHBOARD.md - Monitoring dashboard overview for Task C implementation details.
- [2025-11-13 03:20 UTC] READ: README.md - Refreshed understanding of project structure, features, and roadmap before Phase 3 work.
- [2025-11-13 03:22 UTC] READ: docs/MONITORING_DASHBOARD.md - Reviewed existing monitoring panel behavior, sampling flow, and planned enhancements.
- [2025-11-13 03:24 UTC] READ: phase3/FINAL_REPORT.md - Revisited Task A–C summaries with focus on monitoring deliverables and lessons learned.
- [2025-11-13 03:25 UTC] READ: phase3/NOTES.md - Checked outstanding jail integration notes and follow-up items relevant to monitoring.
- [2025-11-13 03:26 UTC] READ: phase3/PHASE3_MASTER_CHECKLIST.md - Confirmed checklist status prior to implementing new enhancements.
- [2025-11-13 03:27 UTC] READ: phase3/SCORES.md - Reviewed scoring context for completed tasks to align expectations.
- [2025-11-13 03:28 UTC] READ: phase3/TEST_RUNS.md - Looked up latest monitoring test log entry to baseline future validation steps.
- [2025-11-13 03:30 UTC] READ: docs/README.md — Revisited documentation index to map role guides and monitoring references before enhancements.
- [2025-11-13 03:31 UTC] READ: docs/PROJECT_OVERVIEW.md — Reviewed end-to-end architecture and current roadmap to align monitoring scope.
- [2025-11-13 03:32 UTC] READ: docs/ROLE_1_CORE_SANDBOX.md — Refreshed sandbox internals for context on resource metrics feeding the dashboard.
- [2025-11-13 03:33 UTC] READ: docs/ROLE_2_GUI_FRONTEND.md — Confirmed PySide6 component patterns to extend monitor panel cleanly.
- [2025-11-13 03:34 UTC] READ: docs/ROLE_3_INTEGRATION.md — Rechecked command execution flow for integrating rotation and exporter hooks.
- [2025-11-13 03:35 UTC] READ: docs/ROLE_4_TESTING.md — Surveyed testing strategy to plan new alerting and rotation regressions.
- [2025-11-13 03:36 UTC] READ: docs/QA_PREPARATION.md — Noted likely mentor questions covering monitoring architecture and safety.
- [2025-11-13 03:37 UTC] READ: docs/GUI_FILE_JAIL.md — Verified prior Phase 3 GUI conventions for consistency with new monitoring widgets.
- [2025-11-13 03:38 UTC] READ: docs/NETWORK_RESTRICTIONS.md — Recalled Task B network safeguards to coordinate alerting narratives.
- [2025-11-13 03:39 UTC] READ: GUI_IMPLEMENTATION.md — Recollected legacy GUI build decisions relevant for documentation updates.
- [2025-11-13 03:40 UTC] READ: GUI_USAGE.md — Gathered user-facing terminology to mirror in monitoring instructions.
- [2025-11-13 03:41 UTC] READ: MODERN_GUI_DOCUMENTATION.md — Reviewed modern GUI architecture to embed charts without breaking styling.
- [2025-11-13 03:42 UTC] READ: RESPONSIVE_FEATURES.md — Ensured new controls honor existing responsive layout expectations.
- [2025-11-13 03:43 UTC] READ: CROSS_PLATFORM_SUPPORT.md — Confirmed WSL/native handling considerations for exporter and rotation commands.
- [2025-11-13 15:18 UTC] READ: README.md — Refreshed project feature set and roadmap before launching Phase 4 ML work.
- [2025-11-13 15:19 UTC] READ: docs/PROJECT_OVERVIEW.md — Revisited system architecture to map telemetry sources for ML pipeline planning.
- [2025-11-13 15:20 UTC] READ: docs/ROLE_3_INTEGRATION.md — Reviewed integration layer duties to align upcoming ML ingestion with GUI and sandbox bridge.
 - [2025-11-14 00:01 UTC] READ: docs/MONITORING_DASHBOARD.md - Monitoring dashboard: sampler behavior, JSONL artefacts, EWMA smoothing, alerts, log rotation, Prometheus exporter, and CI/testing hooks.
 - [2025-11-14 00:02 UTC] READ: docs/GUI_FILE_JAIL.md - GUI File Jail panel: controls, dev-safe wrapper usage, prepare/apply flow, safety constraints, and headless test notes.
 - [2025-11-14 00:03 UTC] READ: phase3/FINAL_REPORT.md - Phase 3 final report: chroot flag, jail wrapper, network restrictions, monitoring additions and artefacts summary.
 - [2025-11-14 00:04 UTC] READ: phase3/SCORES.md - Phase 3 scoring table: task-level scores and timestamps for filesystem, GUI, network, and monitoring items.
 - [2025-11-14 00:05 UTC] READ: phase3/TEST_RUNS.md - Phase 3 test runs log: timestamped PASS entries for jail, GUI file jail, network restrict, and monitoring regression tests.
 - [2025-11-14 00:06 UTC] READ: phase3/NOTES.md - Developer notes: dev-safe jail wrapper details, strace vs /proc fallback, build_jail_dev script, and follow-up actions.
 - [2025-11-14 00:07 UTC] READ: GUI_IMPLEMENTATION.md - GUI implementation overview: Tkinter-based legacy GUI, features, threading, subprocess management, and testing outcomes.
 - [2025-11-14 00:08 UTC] READ: data/dataset_prompt.md - Generative dataset prompt: detailed synthetic telemetry schema and rules for producing balanced benign/malicious JSONL scenarios for Phase 4.

 - [2025-11-15 00:00 UTC] GENERATED: monitor/logs/synth/ - Synthetic telemetry scenarios created via `data.sample_generator.generate_dataset` (seed=2025). Files written for malicious/benign/unknown scenarios.
 - [2025-11-15 00:00 UTC] RAN: models/train.py --quick --no-lstm - Quick baseline training completed. Dataset score: 10.0; Baseline model score: 9.3767. Artifacts saved under `models/artifacts`.
 - [2025-11-15 12:00 UTC] INSTALLED: torch==2.3.1+cpu - Added CPU-only PyTorch to project venv for LSTM training.
 - [2025-11-15 12:05 UTC] RAN: models/train.py - Full training regenerated dataset, RandomForest (score 9.44), and LSTM (score 10.0) with run-context features.
 - [2025-11-15 12:07 UTC] RAN: models/evaluate.py --use-lstm - Verified baseline + LSTM performance summaries for logging.

- [2025-11-15 10:04 UTC] ROLLBACK: Phase-4 ML Integration — Archived all Phase-4 files to backup_phase4_archive/ and uninstalled numpy, pandas, scikit-learn, joblib, torch from venv. Backup branch: backup/phase4-snapshot. Removed files: inference/ml_inference.py, data/{collector,labeler,sample_generator,sequences}.py, models/{train,evaluate}.py, models/artifacts/{meta.json,model.pkl,scaler.pkl,report.md,lstm.pt}, docs/ML_INTEGRATION.md, tests/test_inference.sh.

---
## Phase-3 Core C Reimplementation Analysis
**Date**: 2025-11-16  
**Branch**: feature/phase3-core-c

### Python Module Analysis

**resource_monitor.py** (246 lines):
- Uses psutil for process sampling (CPU%, RSS, VMS, threads, open files, I/O)
- Sample dataclass with to_dict() → JSONL event format
- ProcessInspector class wraps psutil.Process
- JSONL append functions with atomic writes
- ISO timestamp generation
- Key functions: collect_sample(), build_log_path(), format_command()

**alert_manager.py** (224 lines):
- AlertRecord dataclass with threshold metadata
- Configurable thresholds (cpu_pct_high, rss_mb_high, duration_sec)
- State tracking with threading.Lock for concurrent access
- Alert deduplication and acknowledgment system
- JSONL alert log output

**log_rotate.py** (115 lines):
- Keeps last N files (default 10)
- Compression to .gz for old logs
- Pattern matching for log file selection

**prometheus_exporter.py** (112 lines):
- Optional prometheus_client integration
- Gauges: zencube_cpu_percent, zencube_rss_mb
- HTTP server on port 9109
- Thread-safe updates via Lock

### C Implementation Requirements
- /proc filesystem parsing (stat, status, fd/, io)
- JSONL writing with cJSON library
- Alert rule evaluation from JSON config
- HTTP server for /metrics (lightweight, no heavy deps)
- Signal handling (SIGINT, SIGTERM)
- Atomic file operations

---
## GUI Integration Diagnosis (2025-11-16)
**Task**: Fix 3 GUI integration issues (File Jail hang, Network status missing, Monitor graphs empty)

### Files Read (6/6 complete)
1. **zencube/zencube_modern_gui.py** (850 lines) - Main GUI coordination
2. **gui/file_jail_panel.py** (436 lines) - File jail panel with QThread workers
3. **gui/monitor_panel.py** (708 lines) - Monitoring dashboard with charts
4. **gui/network_panel.py** (151 lines) - Network restriction controls
5. **monitor/jail_wrapper.py** (229 lines) - Dev-safe jail wrapper (Python)
6. **monitor/logs/*.jsonl** - Sample log files (Python and Core C formats)

### Root Causes Identified

**Issue 1: File Jail Hang**
- Worker thread may exit without emitting signals on exception
- No timeout watchdog for stuck operations
- Button re-enable relies on signal emission (fails if worker crashes silently)
- **Location**: gui/file_jail_panel.py:_JailRunWorker.run() (lines 73-103)

**Issue 2: Network Status Missing**
- Network panel has NO status tracking mechanism
- Only updates UI text immediately on toggle
- Doesn't poll for log files or execution results
- Missing integration with main window execution signals
- **Location**: gui/network_panel.py (entire file - 151 lines)

**Issue 3: Monitor Graphs Empty**
- Potential schema mismatch: Sample uses `memory_rss` but some logs use `rss_bytes`
- GUI accesses `sample.memory_rss` without defensive checks
- May fail silently if attribute doesn't exist
- **Location**: gui/monitor_panel.py:_on_sample() (line 562)

### Planned Fixes
1. **File Jail**: Add try/except wrapper in _JailRunWorker.run(), add timeout watchdog
2. **Network**: Add log polling mechanism, execution tracking, status file checks
3. **Monitor**: Add schema adapter (support both memory_rss and rss_bytes), defensive attribute access
4. **Debug**: Add file logging to monitor/logs/gui_debug.log

### Test Scripts (to be created)
- tests/test_gui_headless.sh - File jail button re-enable test
- tests/test_gui_network_status.sh - Network status update test
- tests/test_gui_monitor_graphs.sh - Monitor graph population test

### Scoring Target
- File Jail non-blocking: /3 pts
- Network status updates: /3 pts  
- Monitor plots updated: /4 pts
- **Total**: /10 pts (≥9/10 required)

**STATUS**: ⏸️ AWAITING USER CONFIRMATION (`CONFIRM GUI FIX` token required)
